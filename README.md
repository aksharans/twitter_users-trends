# Twitter User Lookup, Followers/ing, & Trends


## About

This Node.js webapp was created to access and display information from Twitter using the Twitter API. There are 3 main functionalities:
1. **user lookup for basic user information** (username/handle, follower/following count, likes/tweets count, profile/banner picture, verified status, location, description/urls, and a link to the user's page on Twitter.
2. **user lookup for a display of the total count and names of the mutual and nonmutual followers.** Mutual is defined when both the entry user is following the other user and is followed by the other user. Nonmutual is when either of those conditions are not met.
3. **trends lookup for any location** (worldwide, country, city) in the world as represented in the Where On Earth ID (woeid) list. Entries can be typed by both the location's name as well as the specific woeid number (for cases in which the user is not able to type out the name or certain characters)


## Authentication & Postman

This project utilizes application-only authentication using the OAuth 2.0 Bearer Token. Authentication does not involve any user and is only involved with the app for read-only permissions of Twitter data.

As described in the Twitter Developer docs, the API ConsumerKey and ConsumerSecret were generated by Twitter upon creation of the project. They were then URL encoded using RFC 1738 (did not change the keys' value at this point). The keys were then concatenated and again encoded using Base64.

To obtain the Bearer token, the [Postman Desktop Agent](https://blog.postman.com/introducing-the-postman-agent-send-api-requests-from-your-browser-without-limits/#:~:text=The%20Postman%20agent%20is%20a,API%20calls%20on%20your%20behalf.&text=The%20first%20time%20you%20visit,agent%20for%20your%20operating%20system.) was used. A HTTP POST request was sent to https://api.twitter.com/oauth2/token with the Authorization header defining the Base64 encoded string. The Twitter server then responded with a JSON object containing the token_type (bearer) and the access_token (bearer key). Then, to authenticate API requests with the token, a HTTP GET request was sent to https://api.twitter.com//1.1/statuses/user_timeline.json?count=100&screen_name=twitterap with the Authorization header defining the Bearer Token. 

After that, the tokens were assigned to the environment variables TWITTER_CONSUMER_KEY, TWITTER_CONSUMER_SECRET, and TWITTER_BEARER_TOKEN respectively in order to create a *client* object using the Node *twitter* module containing the keys that will be used in GET requests to the API. The keys are assigned in the gitignored .env file as well as provided as Config Variables to Heroku to preserve security.



## Accessing Twitter API & Endpoints

***NOTE: This project uses the Twitter API v1.1 endpoints. Twitter is in early access of and will migrate to v2 endpoints.***


### User Lookup

### User Followers/ing

### Trends


## Limits

Since this project uses the Standard API, there are rate limits to all GET Endpoints.

- User Lookup: 3000 requests/15 minutes
- User Followers/ing: 15 requests/15 minutes 
- Trends: 75 requests/15 minutes

Especially for User Followers/ing since each response is cursored and includes a max of 200 users, there is a very short limit to the amount of requests the app can perform, even with setting a cap of a maximum of 5 requests (1000 users) for each lookup of followers and following.


## Info/Dependencies
Dependencies found in *package.json* and *package-lock.json*

Created using Node.js (along with the express, express-handlebars, and twitter modules).
CSS using the Bootstrap CDN

Hosted on Heroku, using the Heroku CLI




## Useful Resources
- Twitter API: [twitter](https://developer.twitter.com/en/docs)
- Node/Express: [node](https://www.youtube.com/watch?v=fBNz5xF-Kx4&list=PLrqKr-xuh9fc2M5R8sOOXc4efwT4wd4fN&index=1), [express](https://www.youtube.com/watch?v=L72fhGm1tfE&list=PLrqKr-xuh9fc2M5R8sOOXc4efwT4wd4fN&index=2)
- Obtaining authentication, Postman, GET: [medium](https://medium.com/@federicojordn/simplertapp-twitter-search-api-with-node-js-29e4664db299), [stack overflow](https://stackoverflow.com/questions/45078952/twitter-api-application-only-authentication)
- Handling asynchronous data and cursoring: [stack overflow](https://stackoverflow.com/questions/28008897/node-js-twitter-api-cursors)
- WoeID information: [nations24](https://nations24.com/)
- JSON location data (*trends_locations.js*): [codebeautify](https://codebeautify.org/jsonviewer/cbe97376)

